var S=Object.defineProperty;var $=(e,t,l)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var g=(e,t,l)=>$(e,typeof t!="symbol"?t+"":t,l);import{V as U,k as V,l as q,_ as T,g as E,e as a,b as h,w as o,r as n,f as r,c as A,i as B,o as b,a as N,P as O,m as k,h as F,n as _,p as x,F as L}from"./index-o1QpZYlx.js";let j=class extends U{constructor(){super(...arguments);g(this,"state",{selectedRowKeys:[],loading:!1});g(this,"clients",[]);g(this,"columns",[{title:"Имя",dataIndex:"name",key:"name",width:150},{title:"Возраст",dataIndex:"age",key:"age",width:80},{title:"Адрес",dataIndex:"address",key:"address",width:250},{title:"Телефон",dataIndex:"phone",key:"phone",width:150},{title:"Email",dataIndex:"email",key:"email",width:200},{title:"Статус",dataIndex:"status",key:"status",width:100},{title:"Регион",dataIndex:"region",key:"region",width:120},{title:"Дата регистрации",dataIndex:"registrationDate",key:"registrationDate",width:150}]);g(this,"rowSelection",{selectedRowKeys:this.state.selectedRowKeys,onChange:l=>{this.state.selectedRowKeys=l}})}async mounted(){this.state.loading=!0;try{const l=await this.loadClients();l&&l.data&&(this.clients=l.data)}catch(l){console.error("Error loading clients:",l)}finally{this.state.loading=!1}}async loadClients(){try{return await V.get("/admin/client/all")}catch{q.error("Error loading clients")}}showDrawer(){}get hasOneSelected(){return this.state.selectedRowKeys.length==1}get hasSelected(){return this.state.selectedRowKeys.length>0}start(){this.state.loading=!0,setTimeout(()=>{this.state.loading=!1,this.state.selectedRowKeys=[]},1e3)}editClient(l){console.log("Edit client:",l)}deleteClient(l){console.log("Delete client with key:",l)}viewClient(l){console.log("View client:",l)}exportClient(l){console.log("Export client:",l)}};const M={style:{"margin-left":"8px"}};function z(e,t,l,w,y,i){const m=n("a-button"),c=n("a-badge"),d=n("a-space"),u=n("a-col"),p=n("a-row"),f=n("a-table");return b(),E("div",null,[a(p,null,{default:o(()=>[a(u,{span:9},{default:o(()=>[a(d,null,{default:o(()=>[a(m,{onClick:e.showDrawer},{default:o(()=>t[0]||(t[0]=[r(" Создать ")])),_:1},8,["onClick"]),a(m,{disabled:!e.hasOneSelected,onClick:e.showDrawer},{default:o(()=>t[1]||(t[1]=[r(" Редактировать ")])),_:1},8,["disabled","onClick"]),a(m,{disabled:!e.hasOneSelected,onClick:e.showDrawer},{default:o(()=>t[2]||(t[2]=[r(" Просмотреть ")])),_:1},8,["disabled","onClick"]),a(m,{disabled:!e.hasSelected,loading:e.state.loading,onClick:e.start},{default:o(()=>t[3]||(t[3]=[r(" Проверить ")])),_:1},8,["disabled","loading","onClick"]),h("span",M,[e.hasSelected?(b(),A(c,{key:0,count:e.state.selectedRowKeys.length,"number-style":{backgroundColor:"#fff",color:"#999",boxShadow:"0 0 0 1px #d9d9d9 inset"}},null,8,["count"])):B("",!0)])]),_:1})]),_:1})]),_:1}),t[4]||(t[4]=h("br",null,null,-1)),a(f,{columns:e.columns,"data-source":e.clients,"row-selection":e.rowSelection,loading:e.state.loading},null,8,["columns","data-source","row-selection","loading"])])}const J=T(j,[["render",z],["__scopeId","data-v-458adba6"]]),X=[{title:"Имя",dataIndex:"name",key:"name",width:150},{title:"Возраст",dataIndex:"age",key:"age",width:80},{title:"Адрес",dataIndex:"address",key:"address",width:250},{title:"Телефон",dataIndex:"phone",key:"phone",width:150},{title:"Email",dataIndex:"email",key:"email",width:200},{title:"Статус",dataIndex:"status",key:"status",width:100},{title:"Дата регистрации",dataIndex:"registrationDate",key:"registrationDate",width:150}],I=[];for(let e=0;e<46;e++)I.push({key:e.toString(),name:`Edward King ${e}`,age:32,address:`London, Park Lane no. ${e}`,phone:"+7 9"+e+"9 "+e+"34567",email:e+"@bb.ru",status:"Active",registrationDate:"2023-01-15"});const Z=N({components:{PlusOutlined:O,ClientTable:J},setup(){const e=k({name:"",url:"",owner:"",type:"",approver:"",dateTime:"",description:""}),t={name:[{required:!0,message:"Please enter user name"}],url:[{required:!0,message:"please enter url"}],owner:[{required:!0,message:"Please select an owner"}],type:[{required:!0,message:"Please choose the type"}],approver:[{required:!0,message:"Please choose the approver"}],dateTime:[{required:!0,message:"Please choose the dateTime",type:"object"}],description:[{required:!0,message:"Please enter url description"}]},l=F(!1),w=()=>{l.value=!0},y=()=>{l.value=!1},i=k({selectedRowKeys:[],loading:!1}),m=_(()=>i.selectedRowKeys.length>0),c=_(()=>i.selectedRowKeys.length==1),d=()=>{i.loading=!0,setTimeout(()=>{i.loading=!1,i.selectedRowKeys=[]},1e3)},u=p=>{console.log("selectedRowKeys changed: ",p),i.selectedRowKeys=p};return{form:e,rules:t,visible:l,showDrawer:w,onClose:y,data:I,columns:X,hasSelected:m,hasOneSelected:c,...x(i),start:d,onSelectChange:u}},methods:{getPopupContainer(e){return e.parentNode}}}),G={style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}};function H(e,t,l,w,y,i){const m=n("ClientTable"),c=n("a-input"),d=n("a-form-item"),u=n("a-col"),p=n("a-row"),f=n("a-select-option"),v=n("a-select"),P=n("a-date-picker"),D=n("a-textarea"),K=n("a-form"),C=n("a-button"),R=n("a-drawer");return b(),E(L,null,[a(m),a(R,{title:"Создать нового клиента",width:920,visible:e.visible,"body-style":{paddingBottom:"80px"},onClose:e.onClose},{default:o(()=>[a(K,{model:e.form,rules:e.rules,layout:"vertical"},{default:o(()=>[a(p,{gutter:16},{default:o(()=>[a(u,{span:12},{default:o(()=>[a(d,{label:"Name",name:"name"},{default:o(()=>[a(c,{value:e.form.name,"onUpdate:value":t[0]||(t[0]=s=>e.form.name=s),placeholder:"Please enter user name"},null,8,["value"])]),_:1})]),_:1}),a(u,{span:12},{default:o(()=>[a(d,{label:"Url",name:"url"},{default:o(()=>[a(c,{value:e.form.url,"onUpdate:value":t[1]||(t[1]=s=>e.form.url=s),style:{width:"100%"},"addon-before":"http://","addon-after":".com",placeholder:"please enter url"},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(p,{gutter:16},{default:o(()=>[a(u,{span:12},{default:o(()=>[a(d,{label:"Owner",name:"owner"},{default:o(()=>[a(v,{placeholder:"Please a-s an owner",value:e.form.owner,"onUpdate:value":t[2]||(t[2]=s=>e.form.owner=s)},{default:o(()=>[a(f,{value:"xiao"},{default:o(()=>t[7]||(t[7]=[r("Xiaoxiao Fu")])),_:1}),a(f,{value:"mao"},{default:o(()=>t[8]||(t[8]=[r("Maomao Zhou")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(u,{span:12},{default:o(()=>[a(d,{label:"Type",name:"type"},{default:o(()=>[a(v,{placeholder:"Please choose the type",value:e.form.type,"onUpdate:value":t[3]||(t[3]=s=>e.form.type=s)},{default:o(()=>[a(f,{value:"private"},{default:o(()=>t[9]||(t[9]=[r("Private")])),_:1}),a(f,{value:"public"},{default:o(()=>t[10]||(t[10]=[r("Public")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),a(p,{gutter:16},{default:o(()=>[a(u,{span:12},{default:o(()=>[a(d,{label:"Approver",name:"approver"},{default:o(()=>[a(v,{placeholder:"Please choose the approver",value:e.form.approver,"onUpdate:value":t[4]||(t[4]=s=>e.form.approver=s)},{default:o(()=>[a(f,{value:"jack"},{default:o(()=>t[11]||(t[11]=[r("Jack Ma")])),_:1}),a(f,{value:"tom"},{default:o(()=>t[12]||(t[12]=[r("Tom Liu")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),a(u,{span:12},{default:o(()=>[a(d,{label:"DateTime",name:"dateTime"},{default:o(()=>[a(P,{value:e.form.dateTime,"onUpdate:value":t[5]||(t[5]=s=>e.form.dateTime=s),style:{width:"100%"},"get-popup-container":e.getPopupContainer},null,8,["value","get-popup-container"])]),_:1})]),_:1})]),_:1}),a(p,{gutter:16},{default:o(()=>[a(u,{span:24},{default:o(()=>[a(d,{label:"Description",name:"description"},{default:o(()=>[a(D,{value:e.form.description,"onUpdate:value":t[6]||(t[6]=s=>e.form.description=s),rows:4,placeholder:"please enter url description"},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),h("div",G,[a(C,{style:{"margin-right":"8px"},onClick:e.onClose},{default:o(()=>t[13]||(t[13]=[r("Cancel")])),_:1},8,["onClick"]),a(C,{type:"primary",onClick:e.onClose},{default:o(()=>t[14]||(t[14]=[r("Submit")])),_:1},8,["onClick"])])]),_:1},8,["visible","onClose"])],64)}const ee=T(Z,[["render",H]]);export{ee as default};
